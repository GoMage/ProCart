<?xml version="1.0"?>
<!--
 /**
 * GoMage ProCart Extension
 *
 * @category     Extension
 * @copyright    Copyright (c) 2010-2011 GoMage (http://www.gomage.com)
 * @author       GoMage
 * @license      http://www.gomage.com/license-agreement/  Single domain license
 * @terms of use http://www.gomage.com/terms-of-use
 * @version      Release: 1.0
 * @since        Class available since Release 1.0
 */ 
 -->
<config>
    <modules>
        <GoMage_Procart>
            <version>1.0</version>
        </GoMage_Procart>
    </modules>
	<frontend>
        <routers>
            <gomage_procart>
                <use>standard</use>
                <args>
                    <module>GoMage_Procart</module>
                    <frontName>gomageprocart</frontName>
                </args>
            </gomage_procart>
        </routers>
        <layout>
            <updates>
                <gomage_procart module="gomage_procart">
                    <file>gomage-procart.xml</file>
                </gomage_procart>
            </updates>
        </layout>
        <translate>
			<modules>
				<GoMage_Procart>
					<files>
						<default>GoMage_Procart.csv</default>
					</files>
				</GoMage_Procart>
			</modules>
        </translate>
    </frontend>
    <adminhtml>
    	<translate>
			<modules>
				<GoMage_Procart>
					<files>
						<default>GoMage_Procart.csv</default>
					</files>
				</GoMage_Procart>
			</modules>
        </translate>
        <events>            
            <admin_system_config_changed_section_gomage_activation>
                <observers>
                    <gomage_procart_collect_totals_after>
                        <type>model</type>
                        <class>gomage_procart/observer</class>
                        <method>checkK</method>
                    </gomage_procart_collect_totals_after>
                </observers>
            </admin_system_config_changed_section_gomage_activation>            
        </events>                 
	</adminhtml>
	<global>
		<models>
		    <gomage_procart>
		        <class>GoMage_Procart_Model</class>		        
		    </gomage_procart>
		    <catalog>
	        	<rewrite>
	        		<product_type_configurable>GoMage_Procart_Model_Product_Type_Configurable</product_type_configurable>
	        	</rewrite>
            </catalog>		    
		</models>
		<events>                        
            <checkout_cart_add_product_complete>
                <observers>
                    <gomage_procart_addtocart>
                        <type>singleton</type>
                        <class>gomage_procart/observer</class>
                        <method>addToCart</method>
                    </gomage_procart_addtocart>
                </observers>
            </checkout_cart_add_product_complete>
            <controller_action_postdispatch_catalog_product_view>
                <observers>
                    <gomage_procart_show_configurable_params>
                        <type>singleton</type>
                        <class>gomage_procart/observer</class>
                        <method>showConfigurableParams</method>
                    </gomage_procart_show_configurable_params>
                </observers>
            </controller_action_postdispatch_catalog_product_view>
            <controller_action_predispatch_checkout_cart_index>
            	<observers>
                    <gomage_procart_disable_shopping_cart_page>
                        <type>singleton</type>
                        <class>gomage_procart/observer</class>
                        <method>disableShoppingCart</method>
                    </gomage_procart_disable_shopping_cart_page>
                </observers> 
            </controller_action_predispatch_checkout_cart_index>
            <controller_action_predispatch_checkout_cart_add>
            	<observers>
                    <gomage_procart_disable_shopping_cart_page>
                        <type>singleton</type>
                        <class>gomage_procart/observer</class>
                        <method>showGroupedParams</method>
                    </gomage_procart_disable_shopping_cart_page>
                </observers> 
            </controller_action_predispatch_checkout_cart_add>
            <controller_action_predispatch_checkout_cart_delete>
            	<observers>
                    <gomage_procart_disable_shopping_cart_page>
                        <type>singleton</type>
                        <class>gomage_procart/observer</class>
                        <method>deleteCartItem</method>
                    </gomage_procart_disable_shopping_cart_page>
                </observers> 
            </controller_action_predispatch_checkout_cart_delete>
        </events> 
		<blocks>
            <gomage_procart>
                <class>GoMage_Procart_Block</class>
            </gomage_procart>
            <catalog>
	        	<rewrite>
	        		<product_list>GoMage_Procart_Block_Product_List</product_list>
	        	</rewrite>
            </catalog>
            <bundle>
            	<rewrite>
	        		<checkout_cart_item_renderer>GoMage_Procart_Block_Checkout_Cart_Item_Renderer</checkout_cart_item_renderer>
	        	</rewrite>
            </bundle>
            <checkout>
            	<rewrite>
	        		<cart_item_renderer>GoMage_Procart_Block_Cart_Item_Renderer</cart_item_renderer>
	        		<cart_item_renderer_grouped>GoMage_Procart_Block_Cart_Item_Renderer_Grouped</cart_item_renderer_grouped>
	        		<cart_item_renderer_configurable>GoMage_Procart_Block_Cart_Item_Renderer_Configurable</cart_item_renderer_configurable>
	        	</rewrite>
            </checkout>            				
        </blocks>
        <helpers>
			<gomage_procart>
				<class>GoMage_Procart_Helper</class>
			</gomage_procart>
			<catalog>
				<rewrite>
					<product_configuration>GoMage_Procart_Helper_Product_Configuration</product_configuration>
				</rewrite>	
			</catalog>				
		</helpers>
	</global>	
	<default>
    	<gomage_procart>
    		<general>
    			<enable>0</enable>   
    			<add_effect>2</add_effect> 			    			
    		</general>	
    		<qty_settings>
    			<arrows_color>orange</arrows_color>
    		</qty_settings>
    		<ajaxloader>    			
    			<imagealign>left</imagealign>
    			<bgcolor>#FFFFFF</bgcolor>
    			<bordercolor>#000000</bordercolor>
    			<text>Updating, please wait...</text>
    		</ajaxloader>
    		<confirm_window>
    			<show_window>1</show_window>
    			<auto_hide_window>7</auto_hide_window>
    			<shopping_button_color>gray</shopping_button_color>
    			<cart_button_color>orange</cart_button_color>
    			<bgcolor>#FBFBFB</bgcolor>
    			<width>440</width>
    			<border_size>1</border_size>
    			<bordercolor>#D6D6D6</bordercolor>
    		</confirm_window>
    	</gomage_procart>
	</default>		  
</config>