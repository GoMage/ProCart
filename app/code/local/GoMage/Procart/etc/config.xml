<?xml version="1.0"?>
<!--
 /**
 * GoMage ProCart Extension
 *
 * @category     Extension
 * @copyright    Copyright (c) 2010-2013 GoMage (http://www.gomage.com)
 * @author       GoMage
 * @license      http://www.gomage.com/license-agreement/  Single domain license
 * @terms of use http://www.gomage.com/terms-of-use
 * @version      Release: 2.0
 * @since        Class available since Release 1.0
 */ 
 -->
<config>
    <modules>
        <GoMage_Procart>
            <version>2.0</version>
        </GoMage_Procart>
    </modules>
	<frontend>
        <routers>
            <gomage_procart>
                <use>standard</use>
                <args>
                    <module>GoMage_Procart</module>
                    <frontName>gomageprocart</frontName>
                </args>
            </gomage_procart>
        </routers>
        <layout>
            <updates>
                <gomage_procart module="gomage_procart">
                    <file>gomage-procart.xml</file>
                </gomage_procart>
            </updates>
        </layout>
        <translate>
			<modules>
				<GoMage_Procart>
					<files>
						<default>GoMage_Procart.csv</default>
					</files>
				</GoMage_Procart>
			</modules>
        </translate>
    </frontend>
    <adminhtml>
    	<translate>
			<modules>
				<GoMage_Procart>
					<files>
						<default>GoMage_Procart.csv</default>
					</files>
				</GoMage_Procart>
			</modules>
        </translate>
        <events>
            <admin_system_config_changed_section_gomage_activation>
                <observers>
                    <gomage_procart_collect_totals_after>
                        <type>model</type>
                        <class>gomage_procart/observer</class>
                        <method>checkK</method>
                    </gomage_procart_collect_totals_after>
                </observers>
            </admin_system_config_changed_section_gomage_activation>
            <controller_action_predispatch>
                <observers>
                    <gomage_procart_notify>
                        <class>gomage_procart/observer_notify</class>
                        <method>notify</method>
                    </gomage_procart_notify>
                </observers>
            </controller_action_predispatch>
        </events>
        <layout>
            <updates>
                <gomage_procart module="gomage_procart">
                    <file>gomage-procart.xml</file>
                </gomage_procart>
            </updates>
        </layout>
	</adminhtml>
	<global>
		<models>
		    <gomage_procart>
		        <class>GoMage_Procart_Model</class>
		    </gomage_procart>
		    <catalog>
	        	<rewrite>
	        		<product_type_configurable>GoMage_Procart_Model_Product_Type_Configurable</product_type_configurable>
	        	</rewrite>
            </catalog>
            <cataloginventory>
                <rewrite>
                    <observer>GoMage_Procart_Model_Observer_CatalogInventory</observer>
                </rewrite>
            </cataloginventory>
		</models>
		<events>
            <checkout_cart_add_product_complete>
                <observers>
                    <gomage_procart_addtocart>
                        <type>singleton</type>
                        <class>gomage_procart/observer</class>
                        <method>addToCart</method>
                    </gomage_procart_addtocart>
                </observers>
            </checkout_cart_add_product_complete>
            <checkout_cart_update_item_complete>
                <observers>
                    <gomage_procart_updateitem>
                        <type>singleton</type>
                        <class>gomage_procart/observer</class>
                        <method>updateItemOptions</method>
                    </gomage_procart_updateitem>
                </observers>
            </checkout_cart_update_item_complete>
            <controller_action_predispatch_catalog_product_view>
                <observers>
                    <gomage_procart_show_configurable_params>
                        <type>singleton</type>
                        <class>gomage_procart/observer</class>
                        <method>addProductWithError</method>
                    </gomage_procart_show_configurable_params>
                </observers>
            </controller_action_predispatch_catalog_product_view>
            <controller_action_postdispatch_catalog_product_view>
                <observers>
                    <gomage_procart_show_configurable_params>
                        <type>singleton</type>
                        <class>gomage_procart/observer</class>
                        <method>showConfigurableParams</method>
                    </gomage_procart_show_configurable_params>
                </observers>
            </controller_action_postdispatch_catalog_product_view>
            <controller_action_predispatch_checkout_cart_index>
            	<observers>
                    <gomage_procart_disable_shopping_cart_page>
                        <type>singleton</type>
                        <class>gomage_procart/observer</class>
                        <method>disableShoppingCart</method>
                    </gomage_procart_disable_shopping_cart_page>
                </observers>
            </controller_action_predispatch_checkout_cart_index>
            <controller_action_predispatch_checkout_cart_add>
            	<observers>
                    <gomage_procart_disable_shopping_cart_page>
                        <type>singleton</type>
                        <class>gomage_procart/observer</class>
                        <method>showGroupedParams</method>
                    </gomage_procart_disable_shopping_cart_page>
                </observers>
            </controller_action_predispatch_checkout_cart_add>
            <controller_action_predispatch_checkout_cart_delete>
            	<observers>
                    <gomage_procart_disable_shopping_cart_page>
                        <type>singleton</type>
                        <class>gomage_procart/observer</class>
                        <method>deleteCartItem</method>
                    </gomage_procart_disable_shopping_cart_page>
                </observers>
            </controller_action_predispatch_checkout_cart_delete>
            <controller_action_nocookies>
                <observers>
                    <gomage_procart_nocookies>
                        <class>gomage_procart/observer</class>
                        <method>noCookies</method>
                    </gomage_procart_nocookies>
                </observers>
            </controller_action_nocookies>
            <controller_action_predispatch_wishlist_index_add>
                <observers>
                    <gomage_procart_redirect_to_wishlist>
                        <class>gomage_procart/observer</class>
                        <method>RedirectToWishlist</method>
                    </gomage_procart_redirect_to_wishlist>
                </observers>
            </controller_action_predispatch_wishlist_index_add>
            <wishlist_add_product>
            	<observers>
                    <gomage_procart_wishlist_add>
                        <class>gomage_procart/observer</class>
                        <method>WishlistChange</method>
                    </gomage_procart_wishlist_add>
                </observers>
            </wishlist_add_product>
            <wishlist_update_item>
                <observers>
                    <gomage_procart_wishlist_update>
                        <class>gomage_procart/observer</class>
                        <method>WishlistChange</method>
                    </gomage_procart_wishlist_update>
                </observers>
            </wishlist_update_item>
            <controller_action_postdispatch_wishlist_index_fromcart>
                <observers>
                    <gomage_procart_wishlist_add_fromcart>
                        <class>gomage_procart/observer</class>
                        <method>WishlistAddFromCart</method>
                    </gomage_procart_wishlist_add_fromcart>
                </observers>
            </controller_action_postdispatch_wishlist_index_fromcart>
            <catalog_product_compare_add_product>
            	<observers>
                    <gomage_procart_compare_add>
                        <class>gomage_procart/observer</class>
                        <method>CompareAdd</method>
                    </gomage_procart_compare_add>
                </observers>
            </catalog_product_compare_add_product>
            <catalog_product_compare_remove_product>
            	<observers>
                    <gomage_procart_compare_remove>
                        <class>gomage_procart/observer</class>
                        <method>CompareRemove</method>
                    </gomage_procart_compare_remove>
                </observers>
            </catalog_product_compare_remove_product>
            <controller_action_postdispatch_wishlist_index_cart>
                <observers>
                    <gomage_procart_show_configurable_params>
                        <type>singleton</type>
                        <class>gomage_procart/observer</class>
                        <method>AddProductFromWishlist</method>
                    </gomage_procart_show_configurable_params>
                </observers>
            </controller_action_postdispatch_wishlist_index_cart>
            <controller_action_postdispatch_checkout_cart_updateItemOptions>
                <observers>
                    <gomage_procart_show_configurable_params>
                        <type>singleton</type>
                        <class>gomage_procart/observer</class>
                        <method>updateItemOptionsWithError</method>
                    </gomage_procart_show_configurable_params>
                </observers>
            </controller_action_postdispatch_checkout_cart_updateItemOptions>
            <controller_action_predispatch_checkout_cart_add>
                <observers>
                    <gomage_procart_check_product>
                        <type>singleton</type>
                        <class>gomage_procart/observer</class>
                        <method>beforeAddToCart</method>
                    </gomage_procart_check_product>
                </observers>
            </controller_action_predispatch_checkout_cart_add>
            <controller_action_postdispatch_checkout_cart_add>
                <observers>
                    <gomage_procart_handle_errors>
                        <type>singleton</type>
                        <class>gomage_procart/observer</class>
                        <method>handleAddToCartErrors</method>
                    </gomage_procart_handle_errors>
                </observers>
            </controller_action_postdispatch_checkout_cart_add>
        </events>
		<blocks>
            <gomage_procart>
                <class>GoMage_Procart_Block</class>
            </gomage_procart>
            <catalog>
	        	<rewrite>
	        		<product_list>GoMage_Procart_Block_Product_List</product_list>
	        		<product_new>GoMage_Procart_Block_Product_New</product_new>
                    <product_list_upsell>GoMage_Procart_Block_Product_List_Upsell</product_list_upsell>
                    <product_list_related>GoMage_Procart_Block_Product_List_Related</product_list_related>
	        	</rewrite>
            </catalog>
            <reports>
	        	<rewrite>
	        		<product_viewed>GoMage_Procart_Block_Product_Viewed</product_viewed>
	        	</rewrite>
            </reports>
            <bundle>
            	<rewrite>
	        		<checkout_cart_item_renderer>GoMage_Procart_Block_Checkout_Cart_Item_Renderer</checkout_cart_item_renderer>
	        	</rewrite>
            </bundle>
            <checkout>
            	<rewrite>
	        		<cart_item_renderer>GoMage_Procart_Block_Cart_Item_Renderer</cart_item_renderer>
	        		<cart_item_renderer_grouped>GoMage_Procart_Block_Cart_Item_Renderer_Grouped</cart_item_renderer_grouped>
	        		<cart_item_renderer_configurable>GoMage_Procart_Block_Cart_Item_Renderer_Configurable</cart_item_renderer_configurable>
	        		<cart_crosssell>GoMage_Procart_Block_Cart_Crosssell</cart_crosssell>
	        	</rewrite>
            </checkout>
            <downloadable>
                <rewrite>
                    <checkout_cart_item_renderer>GoMage_Procart_Block_Cart_Item_Renderer_Downloadable</checkout_cart_item_renderer>
                </rewrite>
            </downloadable>
            <wishlist>
            	<rewrite>
            		<links>GoMage_Procart_Block_Wishlist_Links</links>
            		<customer_sidebar>GoMage_Procart_Block_Wishlist_Sidebar</customer_sidebar>
            	</rewrite>
            </wishlist>
            <enterprise_wishlist>
                <rewrite>
                    <customer_sidebar>GoMage_Procart_Block_Wishlist_Sidebar</customer_sidebar>
                </rewrite>
            </enterprise_wishlist>
            <enterprise_giftcard>
                <rewrite>
                    <checkout_cart_item_renderer>GoMage_Procart_Block_Cart_Item_Renderer_Giftcard</checkout_cart_item_renderer>
                </rewrite>
            </enterprise_giftcard>
            <enterprise_targetrule>
                <rewrite>
                    <catalog_product_item>GoMage_Procart_Block_Enterprise_Catalog_Product_Item</catalog_product_item>
                </rewrite>
            </enterprise_targetrule>
        </blocks>
        <helpers>
			<gomage_procart>
				<class>GoMage_Procart_Helper</class>
			</gomage_procart>
			<catalog>
				<rewrite>
					<product_configuration>GoMage_Procart_Helper_Product_Configuration</product_configuration>
					<product_compare>GoMage_Procart_Helper_Product_Compare</product_compare>
				</rewrite>
			</catalog>
		</helpers>
	</global>
	<default>
    	<gomage_procart>
    		<general>
    			<enable>0</enable>
    			<add_effect>2</add_effect>
    		</general>
    		<qty_settings>
    			<arrows_color>orange</arrows_color>
    			<category_page_qty>1</category_page_qty>
                <related_prods>1</related_prods>
    		</qty_settings>
            <skin_qty_button_design>
                <arrows_color_bg_plus>#FF4314</arrows_color_bg_plus>
            </skin_qty_button_design>
            <skin_detract_qty_button_design>
                <arrows_color_bg_minus>#FF4314</arrows_color_bg_minus>
            </skin_detract_qty_button_design>

    		<ajaxloader>
    			<imagealign>left</imagealign>
    			<bgcolor>#FFFFFF</bgcolor>
    			<bordercolor>#000000</bordercolor>
    			<textcolor>#000000</textcolor>
    			<text>Updating, please wait...</text>
    		</ajaxloader>
    		<confirm_window>
    			<show_window>1</show_window>
    			<auto_hide_window>7</auto_hide_window>
    			<shopping_button_color>gray</shopping_button_color>
    			<cart_button_color>orange</cart_button_color>
    			<bgcolor>#FBFBFB</bgcolor>
    			<width>440</width>
    			<border_size>1</border_size>
    			<bordercolor>#D6D6D6</bordercolor>
                <continue_btn_txt>Continue Shopping</continue_btn_txt>
                <cart_btn_txt>Go to Shopping Cart</cart_btn_txt>
                <checkout_btn_txt>Proceed to Checkout</checkout_btn_txt>
                <wishlist_btn_txt>Go to Wishlist</wishlist_btn_txt>
                <compare_btn_txt>Show Compare Products</compare_btn_txt>
    		</confirm_window>
            <confirm_wind>
                <max_win_height>500</max_win_height>
                <bgcolor>#FBFBFB</bgcolor>
                <width>440</width>
                <border_size>1</border_size>
                <bordercolor>#D6D6D6</bordercolor>
            </confirm_wind>

            <continue_btn_design>
                <gradient>1</gradient>
                <button_radius>4</button_radius>
                <shopping_button_color>#818181</shopping_button_color>
                <shopping_button_color2>#565656</shopping_button_color2>
                <mouse_over_bg_color>#565656</mouse_over_bg_color>
                <mouse_over_bg_color2>#818181</mouse_over_bg_color2>
            </continue_btn_design>
            <cart_button_design>
                <gradient>1</gradient>
                <button_radius>4</button_radius>
                <cart_btn_color>#f8b53f</cart_btn_color>
                <cart_btn_color2>#ea8616</cart_btn_color2>
                <mouse_over_bg_color>#ea8616</mouse_over_bg_color>
                <mouse_over_bg_color2>#f8b53f</mouse_over_bg_color2>
            </cart_button_design>

            <skin_qty_button_design>
                <arrows_color_bg_plus>#F18200</arrows_color_bg_plus>
                <mouse_over_bg_color>#ff8a00</mouse_over_bg_color>
                <arrows_color_text_plus>#FFF</arrows_color_text_plus>
                <mouse_over_txt_color>#FFF</mouse_over_txt_color>
            </skin_qty_button_design>
            <skin_detract_qty_button_design>
                <arrows_color_bg_minus>#C4BECF</arrows_color_bg_minus>
                <mouse_over_bg_color>#cbc9ce</mouse_over_bg_color>
                <arrows_color_text_minus>#FFF</arrows_color_text_minus>
                <mouse_over_txt_color>#FFF</mouse_over_txt_color>
            </skin_detract_qty_button_design>

    	</gomage_procart>

        <gomage_notification>
            <notification>
                <enable>1</enable>
            </notification>
        </gomage_notification>

	</default>
</config>